Этот код представляет собой веб-сервис, построенный с использованием FastAPI, который парсит цены товаров с определенного интернет-магазина и сохраняет их в SQLite базу данных. Сервис также предоставляет API для работы с этими данными.

Основные компоненты:
- lifespan context manager

![image](https://github.com/user-attachments/assets/976263ed-d6fd-4818-9876-636e81937a36)

Контекстный менеджер управляет жизненным циклом приложения. Он выполняется при запуске и завершении приложения, создает таблицы в базе данных и запускает асинхронную функцию startup_event(), в которой запускается фоновая задача, которая регулярно извлекает данные (например, цены) и обновляет базу данных.

- работа с моделью данных

![image](https://github.com/user-attachments/assets/17b51ae9-c7a8-4a30-ac42-009039da9f15)

Определяется структура таблицы в базе данных для хранения информации о товаре, создается подключение к базе данных, получение сессии и зависимости для работы с сессией, создание база данных и таблицы.

- фоновая задача регулярного парсинга данных опредленных товаров из каталога сайта с помощью отдельно написанного парсера get_page и обновления базы данных

![image](https://github.com/user-attachments/assets/ff499370-e8fe-4986-a01d-23a2cb984c8e)

- API эндпоинты
FastAPI предоставляет несколько эндпоинтов для работы с данными:
/prices: Получение списка товаров.

![image](https://github.com/user-attachments/assets/81ac5efe-8d10-4e01-96a3-349e97b2fcd0)

/prices/{item_id}: Получение данных о конкретном товаре по его ID.

![image](https://github.com/user-attachments/assets/54240f34-ce29-4cec-b2fb-a5d99fa6740e)

/prices/{item_id}: Обновление данных товара по его ID.

![image](https://github.com/user-attachments/assets/7ae05d19-81d3-4bb3-9aac-f3593a7d186c)

/prices/create: Создание нового товара.

![image](https://github.com/user-attachments/assets/189ccb45-f890-4847-b600-37bccb170084)

/prices/{item_id}: Удаление товара из базы данных по его ID.

![image](https://github.com/user-attachments/assets/714c431d-479a-4fa8-9223-887baacd61c5)
